<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>学习小技能汇总 | Gridea</title>
<meta name="description" content="温故而知新" />
<link rel="shortcut icon" href="https://student-party.github.io//favicon.ico?v=1575614531069">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://student-party.github.io//styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://student-party.github.io/">
  <img class="avatar" src="https://student-party.github.io//images/avatar.png?v=1575614531069" alt="">
  </a>
  <h1 class="site-title">
    Gridea
  </h1>
  <p class="site-description">
    温故而知新
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
      
        <a href="https://student-party.github.io//post/dai-gui-dang/" class="menu">
          待归档
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              学习小技能汇总
            </h2>
            <div class="post-info">
              <span>
                2019-11-04
              </span>
              <span>
                16 min read
              </span>
              
            </div>
            
              <img class="post-feature-image" src="https://cdn.pixabay.com/photo/2016/10/11/21/43/geometric-1732847_1280.jpg" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="windows">Windows</h1>
<h2 id="域导出用户名单">域导出用户名单</h2>
<h3 id="命令">命令</h3>
<pre><code> csvde -f export.csv #csvde 为命令，-f为参数，输出为export.csv文件
</code></pre>
<p>输出文件默认在用户文件夹下。</p>
<h2 id="win10多用户远程桌面">win10多用户远程桌面</h2>
<p>以下为必要步骤需先进行组策略设置，完成后再选择方法1或2(推荐方法2)：</p>
<h3 id="配置本地组策略">配置本地组策略</h3>
<ol>
<li>
<p>win10 左下角搜索栏中 输入<mark>gpedit</mark>打开本地组策略编辑器</p>
</li>
<li>
<p>选择【管理模板】-&gt;【Windows组件】-&gt;【远程桌面服务】-&gt;【远程桌面会话主机】-&gt;【连接】<br>
<img src="https://img-blog.csdnimg.cn/2018110418264960.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgyMTkxMw==,size_16,color_FFFFFF,t_70" alt="image"></p>
</li>
<li>
<p>配置 【限制连接的数量】，允许的RD最大连接数 即为最大的连接数量<br>
<img src="https://img-blog.csdnimg.cn/20181104182704781.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgyMTkxMw==,size_16,color_FFFFFF,t_70" alt="image"></p>
</li>
<li>
<p>配置【将远程桌面服务用户限制到单独的远程桌面服务会话】，改成 “已禁用”<br>
<img src="https://img-blog.csdnimg.cn/20181104182715954.jpg?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3dlaXhpbl80MDgyMTkxMw==,size_16,color_FFFFFF,t_70" alt="image"></p>
</li>
</ol>
<h4 id="方法一">方法一</h4>
<p>Win10远程桌面多用户补丁</p>
<p>下载Win10远程桌面多用户补丁(termsrv.dll)，然后解压得到dll文件替换c:\windows\system32\下的同名文件即可，如果需要权限，可使用U盘启动或系统安装盘启动进入命令行或WinPE中进行覆盖。</p>
<h4 id="方法二">方法二</h4>
<p>使用工具破解</p>
<p>下载RDPWrap-v1.6小工具，然后解压，运行install.bat，然后运行RDPConfig.exe，看到Diagnostics后面都是绿色的，并且Listener state是Listening [fully supported]。</p>
<p>如果全绿则破解成功；如果出现Listening [not supported]则需运行update.bat,如运行之后还出现此报错则需手动更新rdpwrap.ini。</p>
<ol>
<li>下载对应的service state 版本rdpwrap.ini</li>
<li>管理员运行cmd，并停止<br>
termservice 服务</li>
</ol>
<pre><code>net stop termservice
</code></pre>
<ol start="3">
<li>替换 <mark>C：\ Program Files \ RDP Wrapper \ rdpwrap.ini</mark></li>
<li>启动 termservice服务</li>
</ol>
<pre><code>net start termservice
</code></pre>
<ol start="5">
<li>最后运行RDPConfig.exe，全绿大功告成。</li>
</ol>
<h3 id="注意">注意</h3>
<p>使用工具破解<br>
补充说明：修改过termsrv.dll的自己改回来。</p>
<h3 id="参考资料">参考资料</h3>
<ol>
<li>https://download.csdn.net/download/sdlp99/10953187</li>
<li>http://www.infopackets.com/news/10552/how-update-rdpwrapini-rdp-wrapper</li>
<li>https://blog.csdn.net/weixin_40821913/article/details/83718404</li>
<li>https://github.com/stascorp/rdpwrap/issues/744</li>
<li>https://github.com/stascorp/rdpwrap/releases</li>
</ol>
<h1 id="linux">Linux</h1>
<h2 id="ubuntu被远程">Ubuntu被远程</h2>
<blockquote>
<p>此方法采用的xrdp原生方案，优点兼容性比较好。</p>
</blockquote>
<ol>
<li>安装xrdp</li>
</ol>
<pre><code>sudo apt install xrdp #最高权限安装xrdp
</code></pre>
<ol start="2">
<li>修改配置</li>
</ol>
<pre><code>nano /etc/xrdp/startwm.sh   #使用nano命令编辑'startwm.sh' 
</code></pre>
<ol start="3">
<li>把最下面的test和exec两行注释掉，添加一行'gnome-session',配置文件参考如下：</li>
</ol>
<pre><code>#!/bin/sh
# xrdp X session start script (c) 2015, 2017 mirabilos
# published under The MirOS Licence

if test -r /etc/profile; then
        . /etc/profile
fi

if test -r /etc/default/locale; then
        . /etc/default/locale
        test -z &quot;${LANG+x}&quot; || export LANG
        test -z &quot;${LANGUAGE+x}&quot; || export LANGUAGE
        test -z &quot;${LC_ADDRESS+x}&quot; || export LC_ADDRESS
        test -z &quot;${LC_ALL+x}&quot; || export LC_ALL
        test -z &quot;${LC_COLLATE+x}&quot; || export LC_COLLATE
        test -z &quot;${LC_CTYPE+x}&quot; || export LC_CTYPE
        test -z &quot;${LC_IDENTIFICATION+x}&quot; || export LC_IDENTIFICATION
        test -z &quot;${LC_MEASUREMENT+x}&quot; || export LC_MEASUREMENT
        test -z &quot;${LC_MESSAGES+x}&quot; || export LC_MESSAGES
        test -z &quot;${LC_MONETARY+x}&quot; || export LC_MONETARY
        test -z &quot;${LC_NAME+x}&quot; || export LC_NAME
        test -z &quot;${LC_NUMERIC+x}&quot; || export LC_NUMERIC
        test -z &quot;${LC_PAPER+x}&quot; || export LC_PAPER
        test -z &quot;${LC_TELEPHONE+x}&quot; || export LC_TELEPHONE
        test -z &quot;${LC_TIME+x}&quot; || export LC_TIME
        test -z &quot;${LOCPATH+x}&quot; || export LOCPATH
fi

if test -r /etc/profile; then
        . /etc/profile
fi
#test -x /etc/X11/Xsession &amp;&amp; exec /etc/X11/Xsession
#exec /bin/sh /etc/X11/Xsession
gnome-session

</code></pre>
<ol start="4">
<li>重启xrdp服务或者机子重启</li>
</ol>
<pre><code>service xrdp restart  #重启xrdp服务
</code></pre>
<h3 id="xrdp的配置">xrdp的配置</h3>
<blockquote>
<p>文档在/etc/xrdp目录下的xrdp.ini和sesman.ini<br>
xrdp.ini 关键部分在globals</p>
</blockquote>
<pre><code>[globals]
bitmap_cache=yes #位图缓存
bitmap_compression=yes #位图压缩
port=3389 #监听端口
crypt_level=low #加密程度（low为40位，high为128位，medium为双40位）
channel_code=1 #不知道是什么
</code></pre>
<p>sesman.ini</p>
<pre><code>[Globals]
ListenAddress=127.0.0.1 #监听ip地址(默认即可)
ListenPort=3350 #监听端口(默认即可)
EnableUserWindowManager=1 #1为开启,可让用户自定义自己的启动脚本
UserWindowManager=startwm.sh
DefaultWindowManager=startwm.sh

[Security]
AllowRootLogin=1 #允许root登陆
MaxLoginRetry=4 #最大重试次数
TerminalServerUsers=tSUSErs #允许连接的用户组(如果不存在则默认全部用户允许连接)?
TerminalServerAdmins=tsadmins #允许连接的超级用户(如果不存在则默认全部用户允许连接)?

[Sessions]
MaxSessions=10 #最大会话数
KillDisconnected=0 #是否立即关闭断开的连接(如果为1,则断开连接后会自动注销)
IdleTimeLimit=0 #空闲会话时间限制(0为没有限制)
DisconnectedTimeLimit=0 #断开连接的存活时间(0为没有限制)

[Logging]
LogFile=./sesman.log #登陆日志文件
LogLevel=DEBUG #登陆日志记录等级(级别分别为,core,error,warn,info,debug)
EnableSyslog=0 #是否开启日志
SyslogLevel=DEBUG #系统日志记录等级
</code></pre>
<h3 id="注意-2">注意</h3>
<blockquote>
<p>因Ubuntu root账号默认无法登陆需修改，所远程之前建议先开启此功能。开启方法可看《<a href="https://blog.csdn.net/yulinxx/article/details/94767231">Ubuntu修改root默认登陆</a>》</p>
</blockquote>
<h2 id="ubuntu修改root默认登陆">Ubuntu修改root默认登陆</h2>
<h3 id="第一步">第一步</h3>
<p>首先登录系统，创建root用户的密码<br>
在终端输入命令：</p>
<pre><code>sudo passwd root
</code></pre>
<p>然后输入设置的密码，这样就完成了设置root用户密码的步骤</p>
<h3 id="第二步">第二步</h3>
<blockquote>
<p>修改文件</p>
</blockquote>
<pre><code>sudo nano /usr/share/lightdm/lightdm.conf.d/50-ubuntu.conf   #管理员nano命令编辑'50-ubuntu.conf'
</code></pre>
<blockquote>
<p>在文件末尾增加如下两行：</p>
</blockquote>
<pre><code>greeter-show-manual-login=true'
all-guest=false 
</code></pre>
<blockquote>
<p>如下：</p>
</blockquote>
<pre><code>[Seat:*]
user-session=ubuntu
greeter-show-manual-login=true 
all-guest=false
</code></pre>
<h3 id="第三步">第三步</h3>
<blockquote>
<p>修改 /etc/pam.d/gdm-autologin和 /etc/pam.d/gdm-password 文件</p>
</blockquote>
<pre><code>sudo nano /etc/pam.d/gdm-autologin  #管理员nano编辑'gdm-autologin'文件
</code></pre>
<blockquote>
<p>注释掉auth required pam_succeed_if.so user != root quiet_success这一行(第三行左右)</p>
</blockquote>
<blockquote>
<p>文件配置可参考以下：</p>
</blockquote>
<pre><code>#%PAM-1.0
auth    requisite       pam_nologin.so
#auth   required        pam_succeed_if.so user != root quiet_success
auth    optional        pam_gdm.so
auth    optional        pam_gnome_keyring.so
auth    required        pam_permit.so
@include common-account
# SELinux needs to be the first session rule. This ensures that any 
# lingering context has been cleared. Without this it is possible 
# that a module could execute code in the wrong domain.
session [success=ok ignore=ignore module_unknown=ignore default=bad]        pam_selinux.so cl$
session required        pam_loginuid.so
# SELinux needs to intervene at login time to ensure that the process
# starts in the proper default security context. Only sessions which are
# intended to run in the user's context should be run after this.
session [success=ok ignore=ignore module_unknown=ignore default=bad]        pam_selinux.so op$
session optional        pam_keyinit.so force revoke
session required        pam_limits.so
session required        pam_env.so readenv=1
session required        pam_env.so readenv=1 user_readenv=1 envfile=/etc/default/locale
@include common-session
session optional        pam_gnome_keyring.so auto_start
@include common-password
</code></pre>
<pre><code>sudo nano /etc/pam.d/gdm-password  #管理员nano编辑'gdm-password'文件
</code></pre>
<blockquote>
<p>注释掉 auth required pam_succeed_if.so user != root quiet_success这一行(第三行左右)<br>
文件配置可参考以下：</p>
</blockquote>
<pre><code>#%PAM-1.0
auth    requisite       pam_nologin.so
#auth   required        pam_succeed_if.so user != root quiet_success
@include common-auth
auth    optional        pam_gnome_keyring.so
@include common-account
# SELinux needs to be the first session rule. This ensures that any 
# lingering context has been cleared. Without this it is possible 
# that a module could execute code in the wrong domain.
session [success=ok ignore=ignore module_unknown=ignore default=bad]        pam_selinux.so cl$
session required        pam_loginuid.so
# SELinux needs to intervene at login time to ensure that the process
# starts in the proper default security context. Only sessions which are
# intended to run in the user's context should be run after this.
session [success=ok ignore=ignore module_unknown=ignore default=bad]        pam_selinux.so op$
session optional        pam_keyinit.so force revoke
session required        pam_limits.so
session required        pam_env.so readenv=1
session required        pam_env.so readenv=1 user_readenv=1 envfile=/etc/default/locale
@include common-session
session optional        pam_gnome_keyring.so auto_start
@include common-password
</code></pre>
<h3 id="第四步">第四步</h3>
<p>修改/root/.profile文件</p>
<pre><code>sudo nano /root/.profile   #管理员nano编辑'.profile'文件
</code></pre>
<p>将文件末尾的<mark>mesg n || true</mark>这一行修改成<br>
<mark>tty -s&amp;&amp;mesg n || true</mark></p>
<blockquote>
<p>文件配置可参考以下：</p>
</blockquote>
<pre><code># ~/.profile: executed by Bourne-compatible login shells.

if [ &quot;$BASH&quot; ]; then
  if [ -f ~/.bashrc ]; then
    . ~/.bashrc
  fi
fi

tty -s&amp;&amp;mesg n || true
#mesg n || true

</code></pre>
<h3 id="第五步">第五步</h3>
<pre><code>sudo gedit /etc/ssh/sshd_config   #管理员nano编辑'sshd_config'文件
</code></pre>
<p>在 <mark>#PermitRootLogin prohibit-password</mark><br>
下添加：<mark>PermitRootLogin yes</mark></p>
<blockquote>
<p>文件配置可参考以下：</p>
</blockquote>
<pre><code>#       $OpenBSD: sshd_config,v 1.103 2018/04/09 20:41:22 tj Exp $

# This is the sshd server system-wide configuration file.  See
# sshd_config(5) for more information.

# This sshd was compiled with PATH=/usr/bin:/bin:/usr/sbin:/sbin

# The strategy used for options in the default sshd_config shipped with
# OpenSSH is to specify options with their default value where
# possible, but leave them commented.  Uncommented options override the
# default value.

#Port 22
#AddressFamily any
#ListenAddress 0.0.0.0
#ListenAddress ::

#HostKey /etc/ssh/ssh_host_rsa_key
#HostKey /etc/ssh/ssh_host_ecdsa_key
#HostKey /etc/ssh/ssh_host_ed25519_key

# Ciphers and keying
#RekeyLimit default none

# Logging
#SyslogFacility AUTH
#LogLevel INFO

# Authentication:

#LoginGraceTime 2m
#PermitRootLogin prohibit-password
</code></pre>
<h3 id="最后重启系统">最后重启系统</h3>
<h2 id="docker安装stf">Docker安装STF</h2>
<p><strong>注意：</strong></p>
<blockquote>
<p>以下操作是在Centos7下执行并测试完毕</p>
</blockquote>
<h3 id="安装docker">安装docker</h3>
<blockquote>
<p>已安装的可略过此步</p>
</blockquote>
<pre><code>#step1：yum更新
yum -y update
#step2：yum命令进行安装docker
yum install -y docker #备注：-y 表示不询问 使用默认配置进行安装，等待提示  完毕！
#step3：查看是否安装成功
yum list installed | grep docker
#step4:docker启动
systemctl start docker
#step5:查看docker状态
systemctl status docker
#step6:docker设置开机启动
systemctl enable docker

</code></pre>
<h3 id="selinux设置">selinux设置</h3>
<blockquote>
<p>注意：此步骤非常重要，如不关闭。后面rethinkdb数据库启动不了。</p>
</blockquote>
<pre><code>[root@localhost ~]# cat /etc/selinux/config 

# This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
#SELINUX=enforcing
SELINUX=disabled
# SELINUXTYPE= can take one of three values:
#     targeted - Targeted processes are protected,
#     minimum - Modification of targeted policy. Only selected processes are protected. 
#     mls - Multi Level Security protection.
SELINUXTYPE=targeted
</code></pre>
<p>配置参考如上，修改完后需重启才生效。</p>
<h3 id="拉取镜像">拉取镜像</h3>
<pre><code>docker pull openstf/stf:latest  #拉取STF镜像
docker pull sorccu/adb:latest 	#拉取adb 镜像
docker pull rethinkdb:latest 	#拉取rethinkdb 镜像
docker images # 查看docker已下镜像
</code></pre>
<blockquote>
<p><strong>注意</strong>：docker下载慢可配置国内镜像加速，登录<a href="https:/://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">阿里云</a><br>
申请加速地址，然后配置 <mark>/etc/docker/daemon.json</mark>  文件。</p>
</blockquote>
<h3 id="镜像安装并启动">镜像安装并启动</h3>
<blockquote>
<p>注意先后顺序。</p>
</blockquote>
<pre><code>#step1：安装并rethinkdb
docker run -d --name rethinkdb -v /srv/rethinkdb:/data --net host rethinkdb rethinkdb --bind all --cache-size 8192 --http-port 8090 
#step2：安装并启动adb
docker run -d --name adbd --privileged -v /dev/bus/usb:/dev/bus/usb --net host sorccu/adb:latest
#step3：安装并启动STF
docker run -d --name stf --net host openstf/stf stf local --public-ip 192.168.164.100

</code></pre>
<p><a href="https://blog.csdn.net/xuecancan/article/details/79897247">参考链接</a></p>
<h3 id="开放端口">开放端口</h3>
<blockquote>
<p>注意：在以上服务都起来的情况下，还是访问不了192.168.164.100:7100 web端情况下可关闭防火墙尝试下。如可访问，那可通过如下操作。</p>
</blockquote>
<pre><code>#step1：查看已经开放的端口
firewall-cmd --list-ports 
#step2:开启端口
firewall-cmd --zone=public --add-port=80/tcp --permanent  
#命令含义:
# –zone #作用域
# –add-port=80/tcp #添加端口，格式为：端口/通讯协议
# –permanent #永久生效，没有此参数重启后失效
#step3:开启端口后需重启防火墙
firewall-cmd --reload

</code></pre>
<p>防火墙其他命令：</p>
<pre><code>#停止firewall  
systemctl stop firewalld.service  
#禁止firewall开机启动  
systemctl disable firewalld.service
</code></pre>
<h4 id="测试完毕">测试完毕</h4>
<figure data-type="image" tabindex="1"><img src="http://ww1.sinaimg.cn/large/d7eb80f7ly1g6nrrsmzhej21hb0s9wfj.jpg" alt="Snipaste_2019-09-04_20-41-50.png"></figure>
<h2 id="更新yum源">更新yum源</h2>
<blockquote>
<p>以下操作在centos设置并操作完毕。</p>
</blockquote>
<ul>
<li><strong>Step1：</strong> 下载镜像源文件</li>
</ul>
<pre><code>wget http://mirrors.aliyun.com/repo/Centos-7.repo #下载阿里云yum镜像源文件
</code></pre>
<blockquote>
<p>如下载不下来可先下载然后通过xftp上传到指定目录。</p>
</blockquote>
<ul>
<li><strong>Step2:</strong> 备份原有源</li>
</ul>
<pre><code>mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.bak #备份原有源
</code></pre>
<ul>
<li><strong>Step3</strong>：将阿里云源文件移到指定目录</li>
</ul>
<pre><code>cp 目录/下载文件名  /etc/yum.repos.d/CentOS-Base.repo #将下载文件拷贝到' /etc/yum.repos.d/'目录下
</code></pre>
<ul>
<li><strong>Step4</strong>：清理yum缓存</li>
</ul>
<pre><code>yum clean all
</code></pre>
<ul>
<li><strong>Step5</strong>：重建缓存</li>
</ul>
<pre><code>yum makecache 
</code></pre>
<ul>
<li><strong>Step6</strong>：更新yum</li>
</ul>
<pre><code>yum -y update
</code></pre>
<h2 id="centos7安装python3">Centos7安装python3</h2>
<h3 id="安装依赖环境">安装依赖环境</h3>
<pre><code>yum install libffi-devel -y
</code></pre>
<blockquote>
<p>注：以下环境必装，不然make install会报错</p>
</blockquote>
<pre><code> yum install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gcc make
</code></pre>
<hr>
<h3 id="下载安装包并解压">下载安装包并解压</h3>
<pre><code>wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz
</code></pre>
<pre><code>tar -zxvf Python-3.7.0.tgz
</code></pre>
<hr>
<h3 id="安装python3">安装Python3</h3>
<pre><code>cd Python-3.7.0
./configure   # ？？待详解
make
make install
</code></pre>
<h3 id="测试">测试</h3>
<p>输入<mark>python3</mark>,查看是否是以正确显示环境。然后输入<mark>python</mark>查看版本号，如是2版本做以下操作。</p>
<h4 id="python默认版本修改">Python默认版本修改</h4>
<p>首先输入以下命令查看链接状况：</p>
<pre><code>ls -l /usr/bin/python*
</code></pre>
<p>或者</p>
<pre><code> ls -al /usr/bin | grep python
</code></pre>
<p>输出如下：</p>
<pre><code>lrwxrwxrwx  1 root root   22 Jul 24 20:56 /usr/bin/python -&gt; python2
lrwxrwxrwx. 1 root root    9 Aug 18  2017 /usr/bin/python2 -&gt; python2.7
-rwxr-xr-x. 1 root root 7136 Nov  6  2016 /usr/bin/python2.7
lrwxrwxrwx  1 root root   22 Jul 24 20:45 /usr/bin/python3 -&gt; /usr/local/bin/python3
lrwxrwxrwx  1 root root   24 Jul 24 20:47 /usr/bin/python3.7 -&gt; /usr/local/bin/python3.7
</code></pre>
<p>由输出结果链接情况可知,在控制台中输入python和python2进入python2.7版本,<br>
输入python3进入python3版本.<br>
现在需要将第一个文件删除,然后把python3软链接到该目录下:</p>
<pre><code>rm -rf /usr/bin/python
ln -s /usr/local/bin/python3 /usr/bin/python  #注意目录，不知目录的可用which命令查询
</code></pre>
<p>修改后为以下结果：</p>
<pre><code>lrwxrwxrwx  1 root root   22 Jul 24 20:56 /usr/bin/python -&gt; /usr/local/bin/python3
lrwxrwxrwx. 1 root root    9 Aug 18  2017 /usr/bin/python2 -&gt; python2.7
-rwxr-xr-x. 1 root root 7136 Nov  6  2016 /usr/bin/python2.7
lrwxrwxrwx  1 root root   22 Jul 24 20:45 /usr/bin/python3 -&gt; /usr/local/bin/python3
lrwxrwxrwx  1 root root   24 Jul 24 20:47 /usr/bin/python3.7 -&gt; /usr/local/bin/python3.7
</code></pre>
<h4 id="yum配置环境更新">yum配置环境更新</h4>
<p>首先查找yum路径</p>
<pre><code>which yum
</code></pre>
<p>编辑yum配置</p>
<pre><code>vim /usr/bin/yum
</code></pre>
<p>将 <mark>#!/usr/bin/python</mark> 修改为 <mark>#!/usr/bin/python2</mark>。</p>
<h3 id="注意-3">注意</h3>
<blockquote>
<p>注：<br>
如果是安装指定目录则需作以下操作：</p>
</blockquote>
<ol>
<li>进入解压目录</li>
</ol>
<pre><code>cd Python-3.7.0
</code></pre>
<ol start="2">
<li>配置安装目录</li>
</ol>
<pre><code>./configure --prefix=/usr/local/python3  #将python安装到/usr/local/python3
</code></pre>
<ol start="3">
<li>编译，安装</li>
</ol>
<pre><code>make
make install
</code></pre>
<ol start="4">
<li>建立软连接</li>
<li>需将python3路径加入PATH环境变量</li>
</ol>
<pre><code>vim ~/.bash_profile
</code></pre>
<p>在此页面中加入以下内容：</p>
<pre><code>export PATH=$PATH:$HOME/bin:/usr/local/python3/bin
</code></pre>
<p>保存退出。</p>
<h3 id="参考资料-2">参考资料</h3>
<ol>
<li>https://www.jianshu.com/p/1193b1dbaf95</li>
<li>https://blog.csdn.net/edogawachia/article/details/96975093</li>
<li>https://blog.csdn.net/qq_36288025/article/details/82534508</li>
<li>https://blog.csdn.net/weixin_33753003/article/details/92302062</li>
<li>https://blog.csdn.net/zhangdongren/article/details/82685932</li>
</ol>
<h3 id="用到的命令">用到的命令</h3>
<blockquote>
<p><mark>which</mark>  ;  <mark>rm</mark> ; <mark>vim</mark> ; <mark>ls</mark> ; <mark>./configure</mark>  <strong>？？？详解</strong><br>
; <mark>**make</mark> ; <mark>ln -s</mark> ; <mark>ls</mark> ; <mark>yum</mark> ; <mark>tar</mark> ; <mark>cd</mark> ; <mark>wget</mark> ;</p>
</blockquote>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#windows">Windows</a>
<ul>
<li><a href="#%E5%9F%9F%E5%AF%BC%E5%87%BA%E7%94%A8%E6%88%B7%E5%90%8D%E5%8D%95">域导出用户名单</a>
<ul>
<li><a href="#%E5%91%BD%E4%BB%A4">命令</a></li>
</ul>
</li>
<li><a href="#win10%E5%A4%9A%E7%94%A8%E6%88%B7%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2">win10多用户远程桌面</a>
<ul>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%9C%AC%E5%9C%B0%E7%BB%84%E7%AD%96%E7%95%A5">配置本地组策略</a>
<ul>
<li><a href="#%E6%96%B9%E6%B3%95%E4%B8%80">方法一</a></li>
<li><a href="#%E6%96%B9%E6%B3%95%E4%BA%8C">方法二</a></li>
</ul>
</li>
<li><a href="#%E6%B3%A8%E6%84%8F">注意</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99">参考资料</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#linux">Linux</a>
<ul>
<li><a href="#ubuntu%E8%A2%AB%E8%BF%9C%E7%A8%8B">Ubuntu被远程</a>
<ul>
<li><a href="#xrdp%E7%9A%84%E9%85%8D%E7%BD%AE">xrdp的配置</a></li>
<li><a href="#%E6%B3%A8%E6%84%8F-2">注意</a></li>
</ul>
</li>
<li><a href="#ubuntu%E4%BF%AE%E6%94%B9root%E9%BB%98%E8%AE%A4%E7%99%BB%E9%99%86">Ubuntu修改root默认登陆</a>
<ul>
<li><a href="#%E7%AC%AC%E4%B8%80%E6%AD%A5">第一步</a></li>
<li><a href="#%E7%AC%AC%E4%BA%8C%E6%AD%A5">第二步</a></li>
<li><a href="#%E7%AC%AC%E4%B8%89%E6%AD%A5">第三步</a></li>
<li><a href="#%E7%AC%AC%E5%9B%9B%E6%AD%A5">第四步</a></li>
<li><a href="#%E7%AC%AC%E4%BA%94%E6%AD%A5">第五步</a></li>
<li><a href="#%E6%9C%80%E5%90%8E%E9%87%8D%E5%90%AF%E7%B3%BB%E7%BB%9F">最后重启系统</a></li>
</ul>
</li>
<li><a href="#docker%E5%AE%89%E8%A3%85stf">Docker安装STF</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85docker">安装docker</a></li>
<li><a href="#selinux%E8%AE%BE%E7%BD%AE">selinux设置</a></li>
<li><a href="#%E6%8B%89%E5%8F%96%E9%95%9C%E5%83%8F">拉取镜像</a></li>
<li><a href="#%E9%95%9C%E5%83%8F%E5%AE%89%E8%A3%85%E5%B9%B6%E5%90%AF%E5%8A%A8">镜像安装并启动</a></li>
<li><a href="#%E5%BC%80%E6%94%BE%E7%AB%AF%E5%8F%A3">开放端口</a>
<ul>
<li><a href="#%E6%B5%8B%E8%AF%95%E5%AE%8C%E6%AF%95">测试完毕</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#%E6%9B%B4%E6%96%B0yum%E6%BA%90">更新yum源</a></li>
<li><a href="#centos7%E5%AE%89%E8%A3%85python3">Centos7安装python3</a>
<ul>
<li><a href="#%E5%AE%89%E8%A3%85%E4%BE%9D%E8%B5%96%E7%8E%AF%E5%A2%83">安装依赖环境</a></li>
<li><a href="#%E4%B8%8B%E8%BD%BD%E5%AE%89%E8%A3%85%E5%8C%85%E5%B9%B6%E8%A7%A3%E5%8E%8B">下载安装包并解压</a></li>
<li><a href="#%E5%AE%89%E8%A3%85python3">安装Python3</a></li>
<li><a href="#%E6%B5%8B%E8%AF%95">测试</a>
<ul>
<li><a href="#python%E9%BB%98%E8%AE%A4%E7%89%88%E6%9C%AC%E4%BF%AE%E6%94%B9">Python默认版本修改</a></li>
<li><a href="#yum%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E6%9B%B4%E6%96%B0">yum配置环境更新</a></li>
</ul>
</li>
<li><a href="#%E6%B3%A8%E6%84%8F-3">注意</a></li>
<li><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99-2">参考资料</a></li>
<li><a href="#%E7%94%A8%E5%88%B0%E7%9A%84%E5%91%BD%E4%BB%A4">用到的命令</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://student-party.github.io//post/dai-gui-dang">
              <h3 class="post-title">
                待归档
              </h3>
            </a>
          </div>
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '0e5c5c954412455e9ef2',
    clientSecret: '523914cf3490d58472164813ff4ad743484bb957',
    repo: 'Student-party.github.io',
    owner: 'student-party',
    admin: ['student-party'],
    id: (location.pathname).substring(0, 49),      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a> | 
  <a class="rss" href="https://student-party.github.io//atom.xml" target="_blank">RSS</a>
</div>

<script>
  hljs.initHighlightingOnLoad()

  let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

  // This should probably be throttled.
  // Especially because it triggers during smooth scrolling.
  // https://lodash.com/docs/4.17.10#throttle
  // You could do like...
  // window.addEventListener("scroll", () => {
  //    _.throttle(doThatStuff, 100);
  // });
  // Only not doing it here to keep this Pen dependency-free.

  window.addEventListener("scroll", event => {
    let fromTop = window.scrollY;

    mainNavLinks.forEach((link, index) => {
      let section = document.getElementById(decodeURI(link.hash).substring(1));
      let nextSection = null
      if (mainNavLinks[index + 1]) {
        nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
      }
      if (section.offsetTop <= fromTop) {
        if (nextSection) {
          if (nextSection.offsetTop > fromTop) {
            link.classList.add("current");
          } else {
            link.classList.remove("current");    
          }
        } else {
          link.classList.add("current");
        }
      } else {
        link.classList.remove("current");
      }
    });
  });

</script>

      </div>
    </div>
  </body>
</html>
